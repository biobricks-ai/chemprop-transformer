schema: '2.0'
stages:
  build_tensordataset:
    cmd: python code/2_build_tensordataset.py
    deps:
    - path: code/2_build_tensordataset.py
      hash: md5
      md5: e31dec81c75e3c7f2c7197503d55d6aa
      size: 4914
    - path: data/processed/
      hash: md5
      md5: 6fa92ea25f4ff5f7a8992562f50cedbb.dir
      size: 31374201338
      nfiles: 805
    outs:
    - path: brick/selfies_property_val_tokenizer/
      hash: md5
      md5: a5f26300d43785c97178b0e096e6f8c5.dir
      size: 83833
      nfiles: 2
    - path: data/tensordataset/
      hash: md5
      md5: e19e03091c53a7bd08155d69de03e6b1.dir
      size: 139994971709
      nfiles: 418
  preprocess:
    cmd: python code/1_preprocess.py
    deps:
    - path: code/1_preprocess.py
      hash: md5
      md5: 0d2d01f7af376a61996a7b3a8dbf2fca
      size: 4572
    outs:
    - path: data/processed/
      hash: md5
      md5: 6fa92ea25f4ff5f7a8992562f50cedbb.dir
      size: 31374201338
      nfiles: 805
  train:
    cmd: python code/3_train_multitask_transformer.py
    deps:
    - path: brick/selfies_property_val_tokenizer/
      hash: md5
      md5: a5f26300d43785c97178b0e096e6f8c5.dir
      size: 83833
      nfiles: 2
    - path: code/3_train_multitask_transformer.py
      hash: md5
      md5: ad98c82fcdac50594198d7c0e1311baa
      size: 7779
    - path: data/processed/
      hash: md5
      md5: 6fa92ea25f4ff5f7a8992562f50cedbb.dir
      size: 31374201338
      nfiles: 805
    - path: data/tensordataset/
      hash: md5
      md5: e19e03091c53a7bd08155d69de03e6b1.dir
      size: 139994971709
      nfiles: 418
    outs:
    - path: brick/moe
      hash: md5
      md5: 367be0bb42100eca4255aba27159f9f6.dir
      size: 117354730
      nfiles: 3
